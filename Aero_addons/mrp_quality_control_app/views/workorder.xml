<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="mrp_production_inherit" model="ir.ui.view">
			<field name="name">mrp.production.product</field>
			<field name="model">mrp.production</field>
			<field name="inherit_id" ref="mrp.mrp_production_form_view"/>
			<field name="arch" type="xml">
			
			 <xpath expr="//div[@name='button_box']" position="inside">
					<field name="quality_point" invisible="1"/>
					<button type="object"
						name="action_open_checkes"
						class="oe_stat_button"
						icon="fa-check"
						string="Contrôle de qualité"
						attrs="{'invisible' : [('state','!=','progress')]}">
						 
					</button>
					
				</xpath>
			<xpath expr="//button[@name='action_cancel']" position="after">
				<field name="quality_checks" invisible="1"/>
					<button type="object"
						name="action_check_wizard_picking"
						
						string="Contrôle de qualité"
						class="btn-primary">
					</button>

					

				<!-- <button type="object"
						name="action_check_wizard_picking"
						
						string="Quality Checks"
						class="btn-primary" 
						attrs="{'invisible' : ['|',('quality_checks','=',False),('state','!=','progress')]}"
						>

					</button> -->
					<!-- <button type="object"
						name="create_quality_alert"
						string="Quality Alert"
						class="btn-primary" 
						attrs="{'invisible' : ['|','|',('quality_checks','=',True),('state','!=','progress'),('quality_point','=',False)]}"
						>
						
					</button> -->
			</xpath>
			 
			</field>
		</record>
		<record id="mrp_production_workorder_form_view_inherit_quality_checks" model="ir.ui.view">
        <field name="name">mrp.production.workorder.form.view.quality.checks</field>
        <field name="model">mrp.workorder</field>
        <field name="inherit_id" ref="mrp.mrp_production_workorder_form_view_inherit"/>
        <field name="arch" type="xml">

            <xpath expr="//notebook/page[@name='time_tracking']/field[@name='time_ids']/tree/field[@name='user_id']" position="after">
            <field name="matricule"/>
           <field name="quantite_fabrique"/>
			</xpath>
			<xpath expr="//field[@name='production_id']" position="after">
				<field name="total_fabricated_qty" readonly="1" string="Quantité Totale Fabriquée"/>
			</xpath>
            <xpath expr="//page[last()]" position="before">
                <page string="PT de QTE">
                <field name="quality_point_ids">
                    <tree>
                        <field name="name" />
                        <field name="product_id" />
                        <field name="operation_id" />
                        <field name="donneur_order" />
                    </tree>
                    </field>
                </page>

            </xpath>
        </field>
    </record>
	<record id="mrp_production_workorder_tree_editable_view_inherit" model="ir.ui.view">
		<field name="name">mrp.production.work.order.tree.editable.inherit</field>
		<field name="model">mrp.workorder</field>
		<field name="inherit_id" ref="mrp.mrp_production_workorder_tree_editable_view"/>
		<field name="arch" type="xml">
            <xpath expr="//field[@name='qty_remaining']" position="before">
                <field name="total_fabricated_qty"/>
			</xpath>
			<xpath expr="//field[@name='name']" position="after">
                <field name="code_operation" invisible="1"/>
                <field name="type_operation" invisible="1"/>
                <field name="is_quality_checks_created" invisible="1"/>
            </xpath>
        </field>
    </record>
  </data>
</odoo>